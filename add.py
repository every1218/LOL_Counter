import re
import json
import sys

def parse_champion_descriptions(raw_text):
    """
    "이름 : 설명" 형식의 여러 문단 텍스트를
    [{"name": "...", "reason": "..."}, ...] JSON 리스트로 변환합니다.
    """
    
    # 1. 텍스트의 앞뒤 공백/줄바꿈 제거
    text_to_split = raw_text.strip()
    
    # 2. re.findall을 사용하여 (이름)과 (설명)을 직접 캡처
    #    - (이름 패턴) : (설명 패턴)
    #    - 설명은 다음 이름 패턴이 나오거나, 문자열 끝(\Z)이 나오기 전까지 모두 캡처 (re.DOTALL)
    pattern = re.compile(
        # ⭐️ 이름 패턴에 &와 콤마(,) 문자 추가 ⭐️
        r'([가-힣A-Za-z\s()（）&,]+?)\s*:\s*(.*?)(?=\n[가-힣A-Za-z\s()（）&,]+?\s*:|\Z)', 
        re.DOTALL
    )
    
    matches = pattern.findall(text_to_split)
    
    champion_list = []
    
    # 3. 캡처된 (이름, 설명) 튜플을 순회
    for name_raw, reason_raw in matches:
        
        # 4. 이름과 설명에서 공백 제거
        name = name_raw.strip()
        reason = reason_raw.strip()
        
        if not name or not reason: # 둘 중 하나라도 비어있으면 건너뛰기
            continue
            
        # 5. 설명(reason)에서 각주 번호([47] 등) 제거
        reason = re.sub(r'\[\d+\]', '', reason).strip()
        
        # 6. 리스트에 딕셔너리 형태로 추가
        champion_list.append({"name": name, "reason": reason})
            
    return champion_list

# --- 4. 메인 실행 함수 ---
def main():
    
    # ⭐️⭐️⭐️⭐️⭐️
    # 1. 여기에 위키에서 복사한 "기타" 섹션 등의 텍스트를 붙여넣기
    RAW_TEXT_INPUT = """


마스터 이 : 대표적인 케인의 담당 일진. 초반 마스터 이의 일대일 능력은 육식 정글러들 수준으로 강력한 편이라 같은 성장형 챔피언임에도 케인이 지고 들어가며, 변신 이후라고 해도 크게 다르진 않다. 케인이 W를 써 봐야 마스터 이는 일격 필살(Q)로 대미지를 줌과 동시에 간단하게 회피하며, 궁극기로 발악을 해도 명상(W)으로 피해를 최소화시킨다. 이렇게 모든 주요 스킬들을 다 쓰고도 별다른 피해조차 입히지 못한 케인은 그대로 마스터 이의 빠른 공속+높은 고정 피해가 섞인 지속딜에 죽음을 맞는 신세다. 아무리 극딜 템트리를 간 다르킨 학살자가 브루저 중 일대일이 가장 강력한 챔피언이라 해도 마스터 이가 스킬을 다 맞아주지 않는 이상 절대로 마이를 이기지 못 한다. 애초에 스킬 상성부터, 지속딜부터 불리하기 때문에 케인으로는 거의 이기기 불가능한 챔피언이다.
렉사이: 예전에는 어떤 방법이든 거리를 줬다간 돌출의 에어본을 시작으로 콤보 딜량 + 물어뜯기의 고정 피해 + 자객의 발톱의 추가 피해에 연약한 카직스가 사라지는 경우가 있어 하드 카운터로 불렸지만, 거듭된 조정과 메타가 변화한 뒤로는 카직스 입장에서 맞딜에 대한 부담은 그나마 줄었다. 문제는 그러고도 모든 스킬셋이 카직스를 카운터친다는 것으로, 시야를 밝혀 은신을 강제하는 Q와 에어본이라는 최상급 CC기, 그로 인한 막대한 한타 기여도, 진동 감지로 전부 보이는 위치, 선입력에 성공하면 은신을 무시하고 쫓아가는 궁극기, 카직스를 압도적으로 찍어누르는 초반 라인 개입 능력과 리워크 이후로도 여전히 강력한 맞딜까지 그야말로 카운터 요소로 온 몸을 떡칠한 수준이라 카직스의 카운터 중에서는 꾸준히 까다로운 편이다.
뽀삐 : 케인 장인들도 인정하는 카운터. 스킬셋 하나하나가 케인을 카운터 치기 매우 좋게 짜여져 있다. 뽀삐의 굳건한 태세(W)만으로 케인의 E와 Q가 전부 차단당함과 동시에 스킬이 끊겨버린다. 또한 뽀삐의 벽을 동반한 EQ평W평 콤보의 화력과 CC기가 동반되는 콤보를 맞으면 거의 생사를 오갈 수준으로 체력이 엄청나게 깎인다. 기본적으로 방어력과 마법 저항력이 높은 탱커인 만큼 그림자 암살자로는 아무리 스킬 콤보를 박아넣어봐야 뽀삐에게 기스 하나 못 낸다.
샤코 : 상대하기 매우 화나는 카운터. 샤코에게 근접하여 W를 날리려고만 해도 은신+순간이동 스킬로 간단하게 회피하며 도망가버리기 때문이다. 게다가 샤코가 여기저기 깔아놓는 박스를 밟을 경우 아무것도 못 해보고 사망할 수 있는 위험도 크다. 그림자 암살자는 성능 좋은 이동기와 CC기를 골고루 가진 샤코를 암살하기 어려우며, 다르킨 학살자 역시 샤코의 공포 박스를 잘못 밟으면 빌빌거리다가 죽을 위험이 높고 싸움이나 한타 이후 적은 체력 상태에서 귀환을 하는 것조차 안전하게 하지 못한다. 서포터 AP 샤코든, 정글러 AD 샤코든 그냥 챔피언의 존재 자체가 케인 유저의 머리를 아프게한다.
카이사(원딜) : 원거리 챔피언들 중 케인이 가장(그림자암살자/다르킨 학살자 모두) 극단적으로 불리한 상성 중 하나로, 무조건 밴해야 한다. 고성능 이속 증가기인 e로 케인의 W를 엄청나게 쉽게 회피해버리며 폭딜과 궁극기의 보호막으로 반격을 가한다. 카이사가 성장이 되면 될수록 특히나 케인이 엄청나게 심하게 불리한데, 몸이 약한 그림자 암살자는 카이사의 엄청난 지속 폭딜에 딜링에 빠르게 그냥 녹아버릴 위험이 크며, 다르킨 학살자의 사정 역시 딜방템을 얼마나 많이 갖추었든 그림자 암살자와 크게 다를 바 없이 카이사의 미친 후반 딜링에 그냥 아예 녹는 신세가 된다.

    """
    # ⭐️⭐️⭐️⭐️⭐️
    
    print("--- 텍스트 파싱 시작 ---")
    
    # 2. 파싱 실행
    parsed_data = parse_champion_descriptions(RAW_TEXT_INPUT)

    print("--- 파싱 완료 (줄바꿈 없이 한 줄로 출력) ---")
    
# 3. ⭐️ 수정된 출력 로직 (마지막 콤마 제거)
    for i, item in enumerate(parsed_data):
        json_line = json.dumps(item, ensure_ascii=False)
        print(json_line, end="") # 객체만 출력

        print(", ", end="")
            
    # 마지막에만 줄바꿈을 한 번 실행 (터미널 프롬프트가 붙는 것 방지)
    print()


if __name__ == '__main__':
    main()