import json
import os
import re
from dotenv import load_dotenv

# .env 파일 로드 (LLM 요약을 위해 필요할 수 있음)
load_dotenv()

TARGET_FILE = "top.jsonl" # 우리가 최종 저장할 파일
HARD_KEYWORDS = ["하드 카운터", "하드카운터", "극상성", "닷지", "최악의 상대", "매우 불리하다", "극카운터", "극 카운터"]

# --- 1. 파일 관리 함수 ---
def load_and_prepare_data(file_path):
    """기존 JSONL 데이터를 리스트로 로드합니다."""
    if not os.path.exists(file_path) or os.path.getsize(file_path) == 0:
        return []
    
    data_list = []
    with open(file_path, 'r', encoding='utf-8') as f:
        for line in f:
            try:
                data_list.append(json.loads(line))
            except json.JSONDecodeError:
                print(f"경고: '{file_path}' 파일의 일부 라인이 깨져있습니다. 해당 라인을 건너뜕니다.")
    return data_list

def save_data(file_path, data_list):
    """
    데이터 리스트를 JSONL 형식으로 저장합니다.
    """
    with open(file_path, 'w', encoding='utf-8') as f:
        for i, champ_data in enumerate(data_list):
            f.write(json.dumps(champ_data, ensure_ascii=False) + '\n')

# --- 2. 핵심 파싱 로직 ---
def parse_manual_data(champion_name, raw_counters_text, raw_footnotes_text):
    """
    사용자가 붙여넣기 한 텍스트를 파싱하여 JSON 객체로 만듭니다.
    """
    
    # 1단계: 각주 맵 생성
    footnote_map = {}
    footnote_parts = raw_footnotes_text.split('[')
    for part in footnote_parts[1:]:
        match = re.match(r'(\d+)\]\s*([\s\S]*)', part)
        if match:
            number = match.group(1)
            text = match.group(2).strip()
            text = text.split('[')[0].strip()
            footnote_map[number] = text

    print(f"-> 각주 맵 생성 완료 (총 {len(footnote_map)}개)")

    # 2단계: 카운터 텍스트 파싱
    hard_counters = []
    general_counters = []
    
    # ⭐️ 수정된 부분: 쉼표(,), 공백( ), 글머리 기호(•, ■, -), 줄바꿈(\n)을 모두 분리 기준으로 사용
    # 이렇게 하면 쉼표로 연결된 긴 리스트도 정확하게 분리됨.
    counter_items = re.split(r'\s*,\s*|\s*(?:•|■|-|\n)\s*', raw_counters_text)
    
    for item in counter_items:
        if not item:
            continue
        
        # 챔피언 이름과 각주 번호 분리 (예: "이렐리아[30]")
        match = re.match(r'([^\[]+)(?:\[(\d+)\])?', item.strip())
        
        if match:
            name = match.group(1).strip()
            number = match.group(2)
            
            # 이름이 빈 문자열인 경우 건너뜀
            if not name:
                continue
            
            if number and number in footnote_map:
                # 각주 번호가 있고, 맵에도 존재
                description = footnote_map[number]
                
                # 키워드 검사
                if any(keyword in description for keyword in HARD_KEYWORDS):
                    # ⭐️ 하드 카운터
                    # reason = summarize_reason_llm(description, name) # LLM 요약 (현재 더미)
                    reason = description # ⭐️ 그냥 원본 텍스트를 넣고 싶으면 이걸로
                    hard_counters.append({"name": name, "reason": reason})
                else:
                    # ⭐️ 일반 카운터 (각주O, 키워드X)
                    general_counters.append(name)
            else:
                # ⭐️ 일반 카운터 (각주X)
                general_counters.append(name)

    print(f"-> 파싱 완료: 하드카운터({len(hard_counters)}), 일반({len(general_counters)})")

    # 3단계: 최종 JSON 객체 반환
    return {
        "champion": champion_name,
        "hard_counters": hard_counters,
        "general_counters": general_counters
    }

# --- 3. 메인 실행 함수 ---
def main():
    
    # ⭐️⭐️⭐️⭐️⭐️
    # 1. 여기에 챔피언 이름 입력
    CHAMPION_NAME = "세트"
    
    # 2. 여기에 '상대하기 힘든 챔피언' 섹션 텍스트 복사 (새로운 쉼표 구분 형식)
    RAW_COUNTERS_TEXT = """ 
      판테온[41], 볼리베어[42], 레넥톤[43], 올라프[44], 워윅[45], 일라오이[46], 요릭[47], 케인(다르킨 학살자)[48], 트린다미어[49], 우르곳[50], 트런들[51], 나서스[52], 모데카이저[53], 클레드[54], 아트록스[55], 럼블[56], 베인[57], 그레이브즈[58], 신지드[60], 나르[61], 케넨[65], 퀸, 리븐[67], 제이스[68], 케일[69], 트위스티드 페이트[70], 스몰더[71], 오로라[72], 하이머딩거[73]
    """
    
    # 3. 여기에 '각주' 섹션 텍스트 복사 (긴 각주 목록)
    RAW_FOOTNOTES_TEXT = """
    [41] 현재 판테온은 체급이 많이 낮은 편이라 대단히 어려운 상대는 아니다. 그럼에도 불구하고 여전히 일방적인 딜교환이 가능하다는 것과 방패돌격(E)으로 세트의 스킬을 모조리 흡수할 수 있다는 점 때문에 쉬운 상대도 아니다. 일단 판테온을 상대할 때 기억할 것은 굳이 세트가 먼저 싸움을 걸 필요는 없다는 것이다. 선공권은 판테온이 쥐고 있는데다가 일단 세트가 작정하고 드러눕기 식으로 라인전을 진행하면 판테온 입장에서도 할 수 있는 것이 많이 없다. 세트가 먼저 안면 강타(E)로 당겨와서 싸움을 여는 구도가 만들어지면 오히려 방호의 도약(W)을 맞고 일방적인 딜교환을 당한 뒤 유유히 빠져나가는 판테온을 붙잡을 수가 없으므로 세트만 손해를 보기 때문에 판테온이 먼저 싸움을 걸어오도록 유도하는 것이 중요하고, 만약 싸우게 된다면 안면 강타(E) - 강펀치(W) 연계로 판테온의 방패돌격(E)에 강펀치가 무마되지 않게 하는 것이 중요하다.
[42] 브루저 계열에서 세트 최악의 하드카운터. 시간이 흐를수록 점점 볼리베어가 유리해진다. 게다가 볼리베어는 딜템이 아닌 탱템 세팅에 가속 위주로 템을 올리기 때문에 스킬 쿨이 긴 세트와 달리 딜교가 자주 이루어지고 거리 조절에 실패해 스킬 쿨일 때 딜교가 걸리면 세트가 일방적으로 손해를 볼 수밖에 없다. 유지력은 세트가 유리하지만 그것 뿐이고 전투 지속력은 볼리베어의 압승이고 이후에도 볼리베어의 회복량을 뚫기 어렵다. 그리고 만약 상대 볼리베어가 균열 생성기와 내셔의 이빨을 가는 딜 볼리베어라면 맞다이 자체가 불가능해 킬을 조금이라도 따이면 풀피 다이브에 당해 죽을정도로 격차가 심해진다. 그나마 다행이라면 한타 자체는 볼리베어보다 세트가 좋다. 상대가 탱 볼베이고, 상대 볼리베어가 폭풍을 부르는 자(R)로 접근한다면 바로 대미 장식(R)으로 적진을 붕괴시킬 수 있고, 한명만 기절 시키는 볼리베어의 번개 강타(Q)와 달리 세트의 안면 강타(E)는 광역 기절이 가능하기 때문이다.이러니 최대한 라인전에서 킬을 주지 않고 한타를 보는 게 알맞다.
[43] 볼리베어와 비슷한 브루저 계열의 하드카운터 기본 체급이 높고 노코스트에 자체 피흡도 있어서 유지력도 좋은 데다가, 무자비한 포식자(W)의 분노 추가 효과인 보호막 파괴로 세트의 강점인 강펀치(W)의 보호막을 무용지물로 만들며 무엇보다 레넥톤의 이기적인 치고 빠지기 딜교환을 세트 입장에서 붙들어놓기가 어렵기 때문에 까다로운 편이다. 2레벨까지는 세트가 우위지만 스킬이 다 찍힌 3레벨부터는 레넥톤이 확실히 유리해지며 6레벨 부턴 강신(R)으로 레넥톤의 체급이 크게 상승해서 함부로 싸움을 걸지 않는 게 좋다.레넥톤이 강신(R)을 사용했을 때의 추가 체력 때문에 대미 장식(R)의 데미지가 높아져 한타때 상대 딜러진들을 박살낼 수 있다는 장점이 있기는 하지만 엄청 큰 효율이 나오는 것은 아니다.그렇기에 레넥톤이 약한 1~2레벨에 최대한 주도권을 가져가야 한다.또 레넥톤은 후반 유통기한이 매우 심한 챔피언이기에 아예 작정하고 경험치만 먹으면서 후반을 봐도 된다.
[44] 둘다 근접 맞다이에 특화된 스킬셋인지라 한번 지기 시작한 쪽이 계속 지는 상성. 6렙 전까지는 올라프의 딸피 컨트롤을 강펀치로 차단시키고 원콤낼 수 있어 세트가 유리하지만 6렙 이후에는 그 강펀치를 라그나로크로 역카운터를 치기 때문에 올라프가 유리하다. 다만 이후에도 기동성 차이, 세트는 몰락한 왕의 검을 올리는 게 아닌 이상 올라프와 맞다이가 어렵기 때문에 기본적으론 올라프가 유리하다고 평가받는다. 2렙부터 5렙까지는 안면 강타(E) - 강펀치(W) 연계로 딜교환 우위를 잡을 수 있으니 이 때 이득을 봐놓으면 대단히 어려운 상대는 아니다.
[45] 안면 강타(E) - 강펀치(W) 연계 콤보를 사용할 줄 안다면 세트가 무조건 불리한 매치업은 아닌데 문제는 투지가 가득 쌓인 상태에서 강펀치(W)를 써서 워윅을 한 방에 터트리지 못했을 때다. 워윅을 한 번에 터트리지 못하면 이후부터 지속적인 흡혈과 체력 비례 피해로 워윅은 순식간에 체력이 다시 차오르기 때문에 사생결단을 낼 생각이라면 반드시 점화를 들어야 한다. 원시의 포효(E)의 피해 감소로 세트의 딜을 절감시킬 수 있고 세트가 강펀치(W)를 대놓고 사용하면 야수의 송곳니(Q)차징으로 뒤로 넘어갈 수 있으나 숙련된 세트 유저들은 안면 강타(E)와 강펀치(W)를 끝까지 아끼다가 원시의 포효 타이밍에 쓰기 때문에 이 부분은 세트의 숙련도가 오를수록 잘 나오지 않는 그림이다. 추가로 차징 야생의 송곳니(Q)나 무한의 구속(R)의 저지 불가 타이밍을 활용해 세트의 안면 강타(E)와 대미 장식(R)를 씹을 수 있다. 피의 사냥(W)를 통한 기동력 차이도 극심한 점도 세트의 발목을 잡는다. 그나마 유통기한이 극심한 워윅이라 치감템을 뽑거나 후반 5:5 한타 구도로 넘어가면 어느 정도 유리하긴 하다만, 워윅은 초반에 스노우볼을 굴리는 챔피언이므로 세트에게 시간을 주지 않는다. 어지간하면 초반 교전은 조금 피하고 한타로 승부를 보는 것이 제일 좋다. 일단 세트가 걸어잠그면 워윅 입장에서도 자력으로 뚫지는 못하기 때문. 파밍 난이도 자체는 쉬운 편이므로 괜히 초반에 싸움을 걸다가 쓸데없이 데스를 헌납하는 일만 일어나지 않으면 라인전 자체는 크게 문제되진 않는다.
[46] 초반에는 세트가 더 강하다. 정직한 스탠딩 맞다이로 보면 6레벨 이전의 무기력한 일라오이로 세트를 이길 수 없다. 문제는 일라오이가 세트와 스탠딩 맞다이를 해줄 이유가 없는 것. 교전 사거리가 짧고 원거리 견제 수단이 매우 한정적인 세트와 다르게, 일라오이는 촉수 강타(Q)와 영혼의 시험(E)으로 멀찍이서 세트를 견제할 수 있다. 견제가 아니더라도 받아먹는데 지장이 없는데, 문제는 6레벨 이후. 뚜벅이 세트가 딜교환을 위해 일라오이에게 접근하면 곧장 영혼의 시험을 맞으며, 영혼의 시험과 믿음의 도약(R)의 적중을 가정한다면 그 어떤 브루저도 일라오이에게 승리를 장담할 수 없다. 스플릿 구도로 가면 당연히 일라오이가 훨씬 강력하다. 자력으로 뚫고자 한다면 일라오이가 궁극기를 시전한 이후에 궁극기로 촉수 지대 바깥으로 끌어내는 것. 또한 일라오이는 개활지 정면 한타에서 꽤 힘이 빠지는 편으로, 본대에 붙어서 궁극기 이니시에이팅으로 이 부분을 파고들면 편하다. 다만 팀이 전체적으로 돌진 조합일 경우 일라오이가 되려 한타에서 역이니시 대박을 노릴 수 있으니 요주의.
[47] 일라오이와 비슷하다. 초반에는 그리 어렵지 않으나 6렙 이후부터가 문제다. 망자의 진(W)으로 안그래도 저열한 기동성을 더욱 부각되게 만들 수 있고 요릭도 포킹 위주로 가면 굉장히 까다로운 상대가 된다. 방관 요릭일 경우에는 더더욱. 일라오이는 그래도 서로 맞대면서 접근전이라도 가능해 강펀치로 변수 창출이 가능하나 요릭이 방관 요릭을 간다면 본체는 뒤에서 포킹만 하며 구울들로 딜을 넣기 때문에 그런 변수조차 창출하기 어렵다.
[48] 탑으로 만날 일은 거의 없지만 정글로 나와서 무난히 변신을 마쳤을 경우 살인적인 체력 비례 계수를 보유한 라아스트를 체력 탱커인 세트로는 상대하기 까다롭다. 세트의 비장의 한 수인 강펀치도 궁극기로 씹어버리고 실드가 사라질 때까지 버티다가 다시 나와버리면 그만이기 때문에 스킬셋 상으로도 케인이 더 유리하다. 다만 변신 전에 세트한테 잘못 갱킹을 갔다간 전광판에 사출 되는 경우가 있으며 이렇게 되면 아예 초반부터 망해버려 아이템과 레벨 차이로 인해 라아스트로 변신한 후에도 못 이기는 경우가 많다.
[49] 만나면 매우 피곤한 상대이다. 기본적으로 분노에 붙은 치명타 확률 때문에 상대가 운이 좋으면 맞다이에서도 지며, 트린다미어의 피의 갈망(Q)스킬은 세트의 패시브의 체젠만큼이나 유지력이 좋으면서도, 조롱의 외침(W)의 둔화 및 공격력 감소는 뚜벅이 AD딜러인 세트에게 꽤나 치명적이다. 그리고 트린다미어의 회전 베기(E)의 높은 기동성 때문에 세트는 도망도, 추격도 못하며 세트의 강펀치(W)의 높은 한방딜은 트린다미어의 불사의 분노(R)에 파훼당한다. 상대 트린다미어가 궁극기를 키고 달려온다면 미니언을 낀 안면 강타(E)로 기절시키고 도망친 뒤, 트린다미어가 회전 베기(E)로 쫓아온다면 대미 장식(R)의 제압까지 사용해 시간을 벌어 충분히 5초를 벌고 트린다미어를 딸 수 있다. 그리고 트린다미어가 세트에 비해 한타에서 강하지 않으니 한 두번 따였다면 조용히 포탑에서 CS나 주우면서 한타에서 활약을 하는 게 좋다. 차라리 강철 심장 - 피 갑옷 등 체력 위주의 템트리를 올려서 강펀치(W)의 대미지를 극대화시키는 템트리도 나쁘지 않다.
[50] 1레벨에 경멸을 찍고 부쉬에서 기습하는 우르곳 특유의 딜교를 강펀치로 비교적 쉽게 파훼할 수 있고 라인전 주도권도 세트에게 있다. 6레벨 이후에도 갱이 오지 않는 이상 우르곳이 단독으로 세트를 잡아내기는 힘든 편이긴 하나 빠르면 2코어, 늦어도 3코어 타이밍에는 주도권이 우르곳에게 넘어간다. 우르곳의 스킬셋이 완성되는 9~11레벨부터는 우르곳을 이겨내기가 매우 힘들고 세트의 체력 비례 추가 물리 피해를 우르곳은 한 번에 최대 6번을, 그것도 3초에 한 번씩 꽂아넣기 때문에 굉장히 아프다. 세트가 안면 강타로 딜교를 걸어도 우르곳이 경멸을 아끼고 싸우면 세트의 체력이 훨씬 빨리 닳기 때문에 강펀치를 쓰는 타이밍에 경멸로 넘겨지고 처형당하기 쉽다. 그나마 우르곳은 한타에 약하고 스플릿을 돌긴 하나 스플릿 구도에서는 세트가 역으로 제압당하기 일쑤고 한타에서도 우르곳 특유의 받아치기식 플레이는 진입한 세트를 안전하게 갈아버리고 시작하기 안성맞춤이다. 우르곳을 던져서 적진을 붕괴시킨다는 생각은 하지 말자. 대미 장식에 던져진 순간 경멸로 넘겨지고 강펀치를 쓰기도 전에 처형당하며 광역 공포에 진입한 아군들이 걸리는 순간 그 한타는 끝장이다.
[51] 1렙에 트런들을 상대로 이기려면 강펀치(W)를 찍고 강펀치(W)를 정중앙에서 맞춰야 하는데 그게 아니라면 대부분 지기 때문에 앵간하면 1렙 싸움은 하지 않는 게 좋다. 2렙부터 5렙까지는 트런들도 세트의 안면강타(E) - 강펀치(W) 연계에 트런들도 쉽게 체력이 빠지므로 이 타이밍에는 세트가 트런들을 상대로 우위를 점할 수 있으나 문제는 6렙 이후. 일단 트런들의 궁을 맞으면 너무 쉽게 녹아버린다는 게 문제라서 안면강타(E) - 강펀치(W) 연계각이 제대로 나오지 않는다. 게다가 극한의 뚜벅이인 세트 입장에서 트런들의 얼음 기둥(E)은 상당히 골치 아프다. 6렙 전에 최대한 이득을 봐놓으면 6렙 이후에도 이기지만 무난하게 서로 6렙이 되면 답이 없어지므로 주의. 또 트런들이 1코어로 굶드라를 사왔다면 유지력이 상상을 초월해서 사이드에서 이길 생각은 접는 것이 낫다.
[52] 쇠약(W) 하나 때문에 게임 내내 밀린다. 유리한 것은 첫 귀환 전 단 한 번 뿐으로 나서스가 무난히 집을 다녀오고 6렙이 되면 라인전은 점점 답이 없어진다. 이속 디버프만 해도 세트를 반 불구로 만들어버렸는데, 공속 둔화율이 늘어난 뒤로는 그냥 쇠약 딸깍 한번이면 5초간 움직이지도 못하고 평타도 거의 안나가는 훈련장 허수아비 수준으로 전락한다. 과거에는 그래도 극초반 라인전은 세트가 유리해서 성장의 기회를 주지 않을 수 있었지만, 내구도 패치 이후 서서히 밀리기 시작하더니, 쇠약 버프 이후로는 나서스의 농사를 막을 수 없게 되어 현재는 라인전 킬 확률과 상대 승률 모두 밀리게 되었다. 그래도 한타 때 궁과 E를 잘 써주면 그 뚜벅이라고 놀림받는 세트보다도 기동성이 저열한 나서스는 아무것도 하지 못하고 허우적대다가 허무하게 비명횡사하는 그림을 볼 수도 있다. 그렇게 한두 번 정도 선채로 죽은 나서스는 사이드 운영으로 선회할 가능성이 높으니 한타 각을 잘 봐보자.
[53] 후반 한타에 세트의 강펀치 타이밍에 맞춰 죽음의 세계(R)로 끌고 들어가는 것이 일단 제일 최악의 상황이며, 체급을 믿고 게임하는 세트에게 1:1 최강자에 가까운 모데카이저는 어려운 상대다. 세트는 도주기가 없고 히트박스가 커서 모데의 궁에 끌려가면 Q를 피할 방법도 마땅치 않고 그냥 죽는다고 봐야 한다. 따라서 템이 나올수록 모데와의 1:1은 지양해야 하며 세트의 대미장식(R)으로 모데카이저의 죽음의 세계(R)을 씹어야만 1:1의 승산이 있는 편이다.
[54] 클레드와 일기토를 벌여서 사생결단을 낼 생각이라면 스칼에서 내리기 전까지 강펀치(W)와 대미 장식(R)을 무조건 아껴놔야 한다. 문제는 버럭버럭(W)의 폭딜이 워낙 높다보니 깜짝 폭딜을 예측하기 어렵다는 것이다. 기본적으로 6렙 전에는 버럭버럭(W) 4타를 강펀치(W)로 받아치는 것이 정석이고 4타를 쓰지 않고 자꾸 간 보는 식으로 싸움을 걸어오면 이쪽도 강펀치(W)는 최대한 아끼던가 또는 강펀치(W)를 쓰고 쿨타임이 돌 때까지 사려야 한다. 클레드는 6렙 이후에 싸우는 것이 좋고, 한타 능력이 좋지 않은지라 한타 능력이 좋은 세트는 반반 성장만 해도 한타에서 활약할 여지가 있다.
[55] 초반에는 아트록스도 스킬 쿨타임이 길어서 안면 강타(E)만 잘 맞춰주면 어렵지 않으나 레벨이 오를수록 아트록스의 스킬 쿨타임이 기하급수적으로 짧아지는 탓에 점점 까다로워진다. 아트록스는 파멸의 돌진(E)의 패시브 때문에 일방적인 견제를 할 수 있는 상황에선 유지력이 좋은데 세트는 이 부류에 딱 들어맞아 라인전 내내 아트록스의 포션으로 전락하게 된다. 게다가 다른 원거리와 다르게 아트록스는 Q 3타와 패시브 평타, 챔프 자체의 스펙과 전술한 높은 흡혈랑 덕분에 근접해도 쉽게 터지지 않는다. 그나마 아트록스의 다르킨의 검(Q)이 빠지고 쿨타임이 긴 초반에 할 만하지만 아트록스가 바보가 아닌 이상 근접전을 해줄 리가 없고 레벨이 높아질수록 정직하게 들어오는 세트 특성상 그대로 다르킨의 검 풀콤을 맞게 된다. 이럴 경우에는 룬은 지속적으로 싸우기 힘드니 짧은 딜교를 위한 집공과 텔을 포기하고 점화나 유체화를 들어서 어떻게든 아트록스가 불리한 초근접전을 유도하며 킬을 따야 한다. 그리고 신발은 신속신을 사서 아트록스 Q와 W를 피하는 것이 중요하며 6렙 이후에 싸울 때는 아트록스가 지옥사슬(W)을 썼을 때 대미장식(R)을 사용하자.
[56] 세트의 빈약한 마법 저항력을 럼블의 무식한 깡딜과 살인적인 퍼뎀이 뚫고 들어온다. 미드세트 저격 너프 이후로 세트의 마저가 더더욱 취약해졌고, 순수 마방템이 아닌, 체력과 공격력을 모두 챙긴 아이템만 기용해야 하는 세트 특성상 럼블의 무식한 데미지를 막아낼 수가 없다. 라인전 내내 원거리 파밍기가 없다시피 한 세트는 럼블한테 맞느라 파밍도 힘든데, 붙는다 하더라도 럼블이 과열 상태라면 오히려 근접전이 밀려버린다. 강펀치가 있는 타이밍에만 짧게 딜교한 뒤, 스킬이 쿨타임인 동안엔 뒤로 빠져 체력을 채우자. 이 짓을 몇 번 연속해서 성공시키면 타워 배달이나 쇼부를 봐서 그나마 승리할 가능성이 있다.
[57] 전통의 뚜벅이 카운터. 탑 베인 자체가 뚜벅이 브루저들을 카운터치려고 나오는 픽인데 세트도 여기서 자유롭지 못한 건 매한가지다. 베인의 구르기(Q) 카이팅을 잡기 매우 어려우며, 어쩌다 잡아도 선고(E)로 밀어낼 수 있다.
[58] 맞딜 자체는 밀리지 않지만 그브는 대부분 정글로 가서 만날 확률이 없고 빨리 뽑기(E)로 인해 그브에게 카이팅 당하다가 죽을수도 있다. 거기에 그브가 다른 라인에서 킬을 먹은 상황이면 살벌한 평타데미지 때문에 평타 1~2대 맞고 강펀치도 쓰기 전에 죽을수 있다. 그나마 그브가 몸이 약하다는점을 이용해서 강펀치를 잘 맞추면 죽일수 있다.
[59] 마나 소모량이 적은 편인 데다가 패시브+궁극기로 살벌한 고정 피해까지 퍼붓기에, 미드 세트의 대표적인 카운터픽으로 꼽힌다. 리안드리까지 나오면 미친 고정 피해에 최대 체력 비례 피해까지 얹어지기 때문에 탱템을 둘둘 감는 정글/서폿 세트도 버티기 힘들다.
[60] 라인전은 사실상 무한 파밍 구도로 흘러간다. 신지드 특성상 세트와의 싸움은 회피하면서 라인 클리어에만 집중하기 때문이다. 그러나 이 점이 오히려 상대하기 까다롭게 만드는 요소가 되는데 신지드는 1레벨부터 라인 클리어가 상당히 빠른 반면, 세트는 스킬 3개를 모두 써야 겨우 라인 클리어가 되기 때문에 신지드가 원하는대로 라인을 밀게 내버려두면 답이 없다. 때문에 신지드가 약한 초반 라인전 단계에서 계속해서 싸움을 걸어주면서 신지드의 레벨링을 최대한 늦추는 것이 핵심이며 안면 강타(E)로 미니언과 함께 맞추면서 기절을 걸어줌과 동시에 기절 시간 안에 주먹다짐(Q) 2타를 다 꽂는 것이 중요하다. 주력 딜링 스킬이 도트 피해라 강펀치의 게이지는 신지드를 끝까지 쫓아가는 것이 아닌 이상 라인전 내내 절반 이상 차오르는 경우가 없고 실드도 무용지물이다. 한타능력이 세트만큼 신지드도 좋은데다가 한타에도 접착제 하나에 세트는 안그래도 심한 뚜벅이가 더 심한 뚜벅이가 되어버려 상대 원딜에게 샌드백이 되어버린다.
[61] 미니 나르는 원거리 견제와 도주에 능해 세트와 정직하게 맞딜을 해주지 않고 메가 나르는 CC기와 강력함으로 맞딜 및 깡스펙에서 세트를 압도한다. 서로 풀피에서 메가 나르와 붙어도 유리할지 모르는 마당에 나르로 최대한 카이팅해서 피를 깎아대는 것도 문제.
[62] 단, 아지르는 물몸에 모든 챔프중 방어력이 최하위권에 속하며 안면 강타(E)에 끌리는 순간 일어나라!(W)와 신기루(E)가 쿨인 순간 바로 킬각이 잡혀버린다. 6렙 이후라면 황제의 진영(R)으로 세트를 밀어버릴 수 있지만, 대미 장식(R)으로 반응한다면 생존기가 없는 아지르는 그대로 맞아 죽는다. 세트의 막강한 근접딜을 내구력 최하위권에 물몸인 아지르가 버텨낼 리가 절대 없다. 아지르의 숙련도와 최대한 거리 조절에 신경을 써야 하고 안면 강타(E)에 끌리지 않는 게 중요하다.
[63] 그나마 리메이크 되고 초반에는 약한 챔피언으로 전락하여 초반부터 대단히 어려운 것은 아니나 1렙이 아니면 접근이 매우 힘든 것은 변함이 없다. 중후반으로 가면 피해량도 점점 높아져서 힘들어진다. 적군 와해(E)의 범위가 넓기 때문에 피하는 건 불가능하다.
[64] 세트의 패시브 체력 재생 수치가 너프된 이후로 무지성으로 카르마의 스킬을 다 맞아주면 답도 없다. 라인전에서 솔킬은 거의 불가능하며 대부분 맞고만 있어야 하기 때문에 도란의 방패와 재생의 바람을 준비해야 한다. 미드와 달리 탑 카르마는 딜템을 가든 탱템을 가든 같은 팀의 미드, 바텀이 터지면 알아서 패배가 예정되어있는 픽이기 때문에 게임 자체를 이기고 싶다면 아군 정글러에게 미드 바텀 투자를 집중적으로 하라고 요구해야 하며 본인은 카르마와 상대 정글러를 데리고 2대1을 할 생각도 해야 한다. 선템은 티아멧을 뽑고 빠르게 라인 클리어에 집중하자. 그나마 소규모 교전 자체는 초반 정글러 전투력 차이가 심각하지 않은 이상 세트 쪽이 우위이기 때문에 라인전 상성이 불리하다고 무조건 유충 교전을 회피할 필요는 없다.
[65] 원거리 챔피언이라 라인전도 쉽지 않은데 한타 파괴력조차 세트를 능가하는 챔피언. 라인전에서는 케넨의 E스킬의 높은 기동력을 바탕으로 세트가 딸피일 때는 추격이 쉽고 세트가 주먹 다짐(Q)을 쓰고 딜교를 하러 올 때는 도주도 쉬운 데다가, 케넨의 스킬들은 원거리 스킬이기에 뚜벅이인 세트는 일방적으로 맞는다. 이런 원거리 챔피언들을 상대할 때는 한타에서 승부를 봐야 하는데, 한타 능력이 좋은 세트이지만 케넨의 한타에서의 능력은 가히 독보적인 수준이라 케넨이 궁을 쓰고 진입하면 세트가 궁극기로 다른곳으로 날려버리는 것 외에는 별다른 활약을 하기가 힘들다.
[66] 하나의 유틸폿에 불과한 소라카가 세트를 뚫어낼 일은 절대 없으나 소라카의 Q의 이속 강탈과 E의 침묵 때문에 굉장히 성가시다. 접근하려 하면 Q 견제 맞고 세트를 두고 멀리 가버리는 소라카를 볼 수 있으며, 침묵 장판 때문에 강펀치를 쓰지 못하고 죽는 경우 또한 나온다.
[67] 리븐은 전사 챔피언이지만 우직한 맞딜이 아닌, 레넥톤처럼 자기가 원할 때만 들어와서 치고 빠지는 전법을 자주 쓰기 때문에 정복자를 들어봤자 효율이 제대로 나오지 않는다. 그렇기 때문에 착취를 들어주는 것이 오히려 더 좋다. 리븐의 부러진 날개(Q)의 순간 폭딜을 박고 기 폭발(W)로 기절시키고 도망치면 세트의 피가 점점 깎이다가 리븐의 한방 폭딜에 강펀치(W)도 쓰지 못하고 죽을 수 있기 때문에 이때는 텔레포트를 포기하고 탈진을 들어 리븐이 순간 폭딜을 넣을 때 탈진으로 딜을 반토막 내는 것이 가장 중요하다. 그나마 레넥톤과는 달리 체급이 그닥 높지 않고 유지력이 꽝인 챔피언이라 리븐의 실수 한번만 잘 캐치해내도 유지력이 우월한 세트가 라인전을 잘 끌고 나갈 수 있다. 특히 리븐의 모든 스킬은 물리 피해만 가지고 있어 체력이 높은 상대는 힘든데,세트는 템만 알맞게 가면 탱커 역할을 할 수 있을정도로 몸이 꽤 단단하여 라인전 이후에는 그나마 편해진다.
[68] 머큐리 해머 폼일 때는 세트에게 근접전을 지기에 문제가 없지만 그놈의 머큐리 캐논이 문제다.제이스가 머큐리 캐논으로 폼을 변환하면 사실상 원거리 딜러와 다름없어 뚜벅이인 세트는 아무것도 하지 못한다. 세트가 주먹다짐(Q)를 쓰고 쫓아오면 제이스도 가속 관문(E)를 쓰고 도망가면 그만이고 그것도 없으면 머큐리 해머로 폼을 바꾸고 천둥 강타(E)를 사용하여 밀치면 된다. 거기에 세트의 유일한 변수인 강펀치(W)도 안면 강타(E)를 미니언을 끼고 맞추지 않는 이상 제이스의 천둥 강타(E)에 밀쳐저 맞출수도 없다. 세트의 패시브인 투기장의 투지의 체젠을 감안해도 제이스의 가속 관문(E)를 통과한 전격 폭발(Q)는 매우 아프고 그렇게 체력이 야금야금 깎이다 보면 어느샌가 제이스의 높은 순간 폭딜에 다이브 당하여 죽어 있을 확률이 높다. 제이스가 한타에서 활약을 하기 힘든점을 감안해서 어떻게든 지옥의 라인전을 버티고 한타에서 활약을 하는 게 좋다.
[69] 6렙 전에는 별로 어려울 게 없으나 6렙 이후엔 케일이 사실상 원거리 딜러가 되기에 가까이 가는 게 불가능하며 가까스로 케일이 방심한 틈을 타 안면 강타(E)로 끌더라도 케일이 신성한 심판(R)을 사용하며 도망치면 할 수 있는 게 딱히 없다. 이로인해 케일의 성장을 억제할 수가 없어 후반에 가면 강펀치(W)의 높은 고정딜에 케일을 한방에 터트릴 수도 있지만 당연히 신성한 심판(R)에 강펀치(W)가 막힐것이고 초반과 달리 후반의 케일은 맞딜로도 이길 수 없다. 후반에 이기려면 안면강타로 기절을 걸고 강펀치로 한 방에 녹이던가 빈사상태로 만들어놔야 이길 수 있다.
[70] 미드와 달리 탑에 오는 트페는 스펠도 유체화와 점멸에, 룬은 기발을 들어 기동성이 좋아 세트가 쫓아가는 건 불가능하고, 트페의 패시브인 사기 주사위(P)때문에 반반만 가도 돈차이가 나며, 접근을 해도 골드 카드에 기절당해서 아무것도 못하는 바보가 된다. 다른 마나챔들처럼 투기장의 투지(P)의 체젠으로 버티며 상대의 마나를 먼저 바닥내는 전략도 블루카드 때문에 불가능하고 골드카드의 최대 2초 기절때문에 한타도 좋고 운명(R)의 뛰어난 로밍 능력때문에 다른 라인까지 터질수 있어서 사실상 상대가 탑 트페라고 판단되면 닷지를 하는 게 팀에 이로울 정도이다.
[71] 스몰더는 기본적으로 원거리 챔피언이기에 기본 공격 사거리부터 차이가 나서 다른 원거리 챔피언처럼 힘들다는 건 비슷하지만 문제는 후반이다. 다른 원딜들보다도 후반이 압도적으로 좋아서 다른 탑 원딜들을 만났을 때처럼 반반 파밍만 하며 한타로 넘어가면 225스텍을 채워 아군을 처형시키는 스몰더를 볼 수 있다. 그렇기에 라인전에서 스몰더의 스킬을 최대한 맞지 않으며 스텍을 최대한 덜 주는 게 방법이다. 그나마 위안이 되는점이라면 후반까지 갔다면 세트의 강펀치(W)의 데미지도 매우 높아져서 스몰더를 한방에 죽일수 있다.
[72] 악마 그 자체인 상대로 기본 스킬 만으로도 세트를 농락하기에 최적화인데 궁극기까지 생긴 오로라는 베인, 르블랑 급으로 기동성이 좋아 안면강타를 맞출 수도 없다. 옆에 안면강타(E)로 기절 시킬 대상이 따로 없다면 강펀치(W)를 제대로 맞출 상황을 만드는 게 정말 손에 꼽을 정도로 어렵다.
[73] 자주 나오진 않지만 나오게 되면 세트의 악몽이 되는 챔피언 중 하나다. 일단 하이머딩거의 E의 슬로우와 기절, R 강화포탑 평타의 슬로우가 세트에겐 상당히 골칫거리다. 붙기만 하면 세트가 지지는 않지만 라인전에서 파밍 자체가 힘들고 가끔 하이머딩거 원챔 유저 중엔 탈진을 기용하는 유저도 있는데, 이렇게 나오면 솔로킬은 진짜 평생 못딴다고 봐야 한다. 나름 후반 밸류도 괜찮은 하이머딩거에게 성장을 방해받고 고통받으며 내내 라인전을 진행해야 한다는 것 자체가 꽤나 불쾌한 점으로 다가온다. 뚜벅이면서 하루종일 들이받으며 어떻게든 라인전 우위를 점해야 하는 세트와 들어오는 상대에게 카운터 격 챔피언인 하이머딩거는 어떻게 보면 라인전이나 한타나 태생부터가 극상성이다. 상대법으로는 어떻게든 안면강타(E) 거리를 확보하고 R 강화포탑이 깔렸을땐 대미장식(R)으로 강화포탑 구역에서 강제로 이탈시켜 싸움을 진행해야 한다. 그래도 후반 한타 밸류는 세트가 조금 더 좋고 상대의 앞라인 챔프를 통해 대미장식(R) 진입 각이 잘 나왔을땐 하이머딩거가 뭘 해보기도 전에 풀투지 상태에서 안면강타(E)-강펀치(W) 확정콤보로 폭사 시켜버릴 수 있다.
[74] 사실 팀파이트만 밀릴 뿐, 시간이 지날수록 버섯의 가치는 상당히 커지기 때문에 시간을 끌어봤자 크게 이득도 아니다.
[75] 람머스는 대회전(Q)을 이용한 뛰어난 갱킹 능력으로 뚜벅이인 세트는 와드로 봤어도 이미 못 피하는 억까 갱에 시달려야 하고, 람머스가 세트가 강펀치(W)를 쓰려는 순간에 광란의 도발(E)을 사용한다면 강펀치도 못쓰고 손에 피나도록 등딱지나 패다가 그대로 죽을 수 있다. 또한 람머스는 체력보단 방어력을 많이 올리는 챔피언이기에 람머스를 집어던져도 데미지가 그렇게 높진 않다.
[76] 2코어 전까지는 어거지로 뚫어내 잡는 것은 가능하나, 안 그래도 둔중한 세트를 더 느리게 하고 자신은 빨라지는 Q 때문에 접근이 힘들다. 말파이트의 성장을 억제하지 못한 상태로 한타 단계에 진입하면 팀원들을 들이받고 때려잡는 말파이트를 보게 될 것이다. 2코어 이후부터는 단독으로 뚫어내기는 사실상 불가능하며, 오히려 평타 기반 AD 챔피언인 세트는 지면 강타를 맞는 순간 평타딜이 불구가 되어 강펀치 한방만 봐야 하는 샌드백이 된다. 궁으로 적한테 내다꽂으려 해도 말파이트의 궁이 세트보다 사거리가 훨씬 길고, 저지 불가까지 달려있어서 말파이트의 궁이 먼저 박힐 확률이 훨씬 높고, 말파의 궁을 허용한 다음 다시 꽂아봤자 이미 아군의 진영이 박살이 나 있을 확률이 크다. 게다가 추가체력보단 방어력 위주로 아이템을 올리는 말파이트이기에 궁극기 대미지조차 시원치 않을 경우가 많다. 아예 세트가 각을 잘못 줘서 팀원과 함께 말파이트 궁에 맞아버렸다면 당연히 말파이트를 선두로 온갖 CC기가 날아올 테니 맞궁이고 뭐고 맞아죽는다.
[77] 유성 말파이트의 경우 견제가 매우 아프게 들어오고 계속되는 Q 짤짤이는 레벨이 올라갈수록 방패+패시브+재생의 바람만으로 견뎌낼 수 있는 수준이 아니다. 다만 지진의 파편만 계속 날려대다 반피 이하로 체력이 깎이면 들어오는 궁극기 콤보는 충분히 위협적이기는 하나, 한 콤보에 잡아내지 못한다면 오히려 풀투지 강펀치에 맞고 역관광을 당할 가능성이 크다. 진짜 문제는 집공 말파이트. 유성이 없어도 Q의 견제가 성가신건 여전하며 어떻게든 붙기만 하면 잡을 수는 있는 유성 말파이트와는 다르게 이쪽은 지속전에 매우 강하며 점화까지 채용하기에 라인전이 굉장히 힘들다. 과장 없이 세트가 점멸이 없고 말파에겐 점화와 궁극기가 모두 있을 경우 아예 풀피 킬각이 잡히는 수준이라 그 세트가 탱커를 상대로 사려야 하는 어이없는 상황이 발생하기도 한다. 1~3렙까지는 Q견제의 효율이 매우 나쁘기에 세트에게 주도권이 있고 4레벨부터 계속되는 견제를 당할 경우 6레벨이 찍히는 순간 킬각이 잡히기 때문에 6레벨 이전 체력관리가 중요하다.
[78] 세트가 나온 초창기엔 압도적인 유지력 차이로 오히려 잭스가 불리했으나 세트가 각종 너프를 당한 현재엔 상성이 역전되었다. 다만 초반 라인전은 여전히 세트가 유리하니 그때 밟아놓자. 몰왕, 선체파괴자 등 극단적인 1대1 특화 빌드를 타면 3코어~3코어 반 정도까지는 맞다이에서도 밀리지 않는다. 하지만 게임을 빠르게 끝내지 못하고 잭스가 꾸역꾸역 템을 뽑아오게 되면 역시 맞다이가 밀리게 되므로 유리한 초반에 이득을 어떻게든 봐서 스노우볼을 굴려서 빠르게 끝내야 한다.
[79] 파이크의 궁극기인 깊은 바다의 처형(R) 보호막 무시 효과를 가지고 있어 세트의 필살기인 딸피 상황에서 강펀치(W)로 일발 역전을 노리는 것을 모두 허사로 만든다.기동성이 너무 좋아 기본적으로 강펀치(W)를 맞추기 어려운건 덤
[80] 파열의 일격(Q) 한 방으로 세트의 보호막을 전부 파괴할 수 있다. 매번 강펀치를 쓸 때마다 렐의 Q를 의식해야 한다. 그러나 역으로 렐 역시 세트의 강펀치(W)만 노리고 파열의 일격(Q)을 쓰지는 못하므로 너무 의식하진 않아도 된다.
[81] 세트의 강펀치(W)를 분신(W)으로 피할 수 있어서 까다롭다. 대부분의 오공은 강펀치(W) 타이밍에 분신으로 회피하려 하기 때문에 안면 강타(E) 직후 강펀치(W) 연계가 핵심이다. 세트와 같은 AD 전사 상대로 맞다이가 강한 챔피언이라서 강펀치로 오공의 콤보를 대부분 씹지 않는 한 상대하기 힘들다. 한타 기여도 차이도 많이 나는 것은 덤.
[82] 마이는 잘 컸을 때 한정으로 어렵다. 잘 큰 마스터 이의 폭딜은 세트의 실드를 감안해도 버틸 수 있는 딜이 아니고, 모션이 뻔한 강펀치(W)는 마이의 알파에 허무하게 파훼된다. 다만 궁극기와 E로 한타에서 마스터 이를 마크할 수 있으니 이 점을 노려보자. 또한 칼날비 치명타 트리를 타는 마스터 이의 경우 후반에 탱템을 갖춘 세트를 녹일 딜이 나오지 않는다. 그리고 탑 라인전에서 만나는 초반 마스터 이는 최대 장점인 DPS조차 세트에게 밀리기 때문에 라인전에서는 매우 쉬운 상대이다. 그리고 마스터 이는 실험적 마공학판 이외의 체력 옵션이 붙은 아이템은 거의 가지 않으므로 강펀치의 고정 피해에 취약하며, 후반에 마이가 미니언을 낀 안면 강타(E)를 피하지 못했다면 투지가 가득 찬 강펀치(W)에 한번에 죽는 경우도 나온다.
[83] 기존에는 세트의 밥이었지만 리메이크 패치 이후론 세트의 강펀치를 완벽하게 씹는 무적기가 생겨나 꽤 까다로운 상대. 정복자 빌드로 지속딜을 늘리는 빌드가 고착화 됨에 따라 암살자임에도 유일하게 1:1도 이기기 어렵다.
[84] ex) 다리우스의 대학살(Q), 아트록스의 다르킨의 검(Q) 등과 다르게 세트의 강펀치는 뼈방패를 빼겠답시고 투지도 안 쌓인 채 먼저 사용하기엔 쿨타임동안 계속 두들겨 맞아야 하는 명분과 그 시간동안 상대에게 라인전 주도권과 미니언 주도권을 동시에 넘겨주는 것이기에 리스크가 상당하다.
[85] 라인전은 세트가 더 유리하다. 세트는 안면 강타(E)가 있어 먼저 선공을 걸 수 있으며, 가렌의 심판(E)의 무식한 딜로 오히려 투지를 채워 강펀치(W)로 딜교 이득을 볼 수 있다. 그리고 세트 또한 투기장의 투지(P)로 가렌 못지않게 회복을 할 수 있어 유지력도 크게 밀리지 않는다. 하지만 스킬쿨이 거의 2배나 차이가 나는데다가 세트의 안면 강타(E)를 용기(W)의 강인함으로 기절 시간을 많이 줄일 수 있고 6렙 이후엔 가렌만의 점화 + 심판(E) + 결정타(Q) + 데마시아의 정의(R) 콤보에 강펀치도 쓰지 못하고 죽을 수 있으니 주의해야 한다. 게다가 레벨이 오를수록 가렌의 궁극기인 데마시아의 정의(R)는 대미지 예측이 점점 불가능해지는데다가 후반 한타 때 가렌의 침묵을 맞고 강펀치(W)를 제대로 쓰지도 못하고 산화할 수 있으므로 세트가 유리한 초중반에 교전을 잘 설계하는 것이 중요하다
[86] 이렐리아 입장에선 칼날쇄도(Q)로 파밍 조차 하기 힘들 정도로 정말 숨막히는 대표 카운터 매치업이다. 6레벨 전에는 이렐리아가 패시브 4스택이더라도 세트가 우세하고, 6레벨 이후에는 미니언을 타고 요리조리 움직이다가 세트에게 돌격해오는데 이때, 세트의 뒤로 이동하기 때문에 궁각을 매우 쉽게 내준다. 칼날 쇄도(Q)로 정신없게 만들기 때문에 강펀치(W)를 적중하기가 생각보다 쉽지만은 않으므로 반드시 안면 강타(E)의 기절 이후 강펀치(W)를 사용하는 것이 정석이다. 이렐리아가 몰왕검을 뽑아오면 뽑아오기 전과는 차원이 다를 정도로 강해지니 그전에 아예 흥하지도 못하게 망치거나 똑같이 몰왕검을 가야 한다. 사실 무난하게 발걸음 분쇄기를 뽑아도 별 문제 없는 것이 안면 강타(E) - 강펀치(W) 연계를 맞추면 몰왕검을 가지고 온 이렐리아 상대로도 충분히 이긴다. 대부분 이렐리아의 정신없는 칼날쇄도(Q)에 휘말려서 성급하게 스킬을 막 쓰다보니 강펀치가 빗나가서 지는 경우가 태반이라 문제인 것.
[87] 맞딜은 당연히 세트가 이기나 문제는 바이를 탑에서 만날일이 거의 없다. 그렇다면 당연히 정글 바이를 만날텐데, 6렙 전에는 체력 관리가 잘 되어 있고 스킬을 다 들고 있다면 충분히 역관광이 가능하다. 6렙 이후에는 바이의 금고 부수기(Q)를 대미 장식(R)으로 반응한다면 회피도 가능한 편.
"""
    # ⭐️⭐️⭐️⭐️⭐️
    
    print(f"--- 수동 파서 시작: {CHAMPION_NAME} ---")
    
    # 4. 파싱 실행
    new_champion_data = parse_manual_data(CHAMPION_NAME, RAW_COUNTERS_TEXT, RAW_FOOTNOTES_TEXT)

    # 5. 기존 데이터 로드
    all_data_list = load_and_prepare_data(TARGET_FILE)

    # 6. 데이터 업데이트 또는 추가
    updated = False
    for i, data in enumerate(all_data_list):
        if data.get('champion') == new_champion_data['champion']:
            all_data_list[i] = new_champion_data # 기존 데이터 덮어쓰기
            updated = True 
            print(f"'{new_champion_data['champion']}'의 데이터를 업데이트했습니다.")
            break
            
    if not updated:
        all_data_list.append(new_champion_data) # 새 데이터 추가
        print(f"'{new_champion_data['champion']}'의 데이터를 새로 추가했습니다.")

    # 7. 파일 저장
    save_data(TARGET_FILE, all_data_list)
    print(f"성공: 데이터가 '{TARGET_FILE}' 파일에 저장되었습니다.")
if __name__ == '__main__':
    main()